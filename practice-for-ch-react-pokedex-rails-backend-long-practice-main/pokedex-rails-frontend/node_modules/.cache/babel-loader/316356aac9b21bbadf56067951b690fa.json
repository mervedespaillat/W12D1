{"ast":null,"code":"export const LOAD_ITEMS = \"items/LOAD_ITEMS\";\nexport const REMOVE_ITEM = \"items/REMOVE_ITEM\";\nexport const UPDATE_ITEM = \"items/UPDATE_ITEM\";\nexport const ADD_ITEM = \"items/ADD_ITEM\";\n\nconst load = (items, pokemonId) => ({\n  type: LOAD_ITEMS,\n  items,\n  pokemonId\n});\n\nconst update = item => ({\n  type: UPDATE_ITEM,\n  item\n});\n\nconst add = item => ({\n  type: ADD_ITEM,\n  item\n});\n\nconst remove = (itemId, pokemonId) => ({\n  type: REMOVE_ITEM,\n  itemId,\n  pokemonId\n});\n\nexport const getItems = id => async dispatch => {\n  const response = await fetch(`/api/pokemon/${id}/items`);\n\n  if (response.ok) {\n    const items = await response.json();\n    dispatch(load(items, id));\n  }\n};\nexport const createItem = (data, pokemonId) => async dispatch => {\n  const response = await fetch(`/api/pokemon/${pokemonId}/items`, {\n    method: 'post',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(data)\n  });\n\n  if (response.ok) {\n    const item = await response.json();\n    dispatch(add(item));\n    return item;\n  }\n};\nexport const updateItem = data => async dispatch => {\n  const response = await fetch(`/api/items/${data.id}`, {\n    method: 'put',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(data)\n  });\n\n  if (response.ok) {\n    const item = await response.json();\n    dispatch(update(item));\n    return item;\n  }\n};\nexport const deleteItem = itemId => async dispatch => {\n  const response = await fetch(`/api/items/${itemId}`, {\n    method: 'delete'\n  });\n\n  if (response.ok) {\n    const item = await response.json();\n    dispatch(remove(item.id, item.pokemonId));\n  }\n};\nconst initialState = {};\n\nconst itemsReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case LOAD_ITEMS:\n      {\n        const newItems = {};\n        action.items.forEach(item => {\n          newItems[item.id] = item;\n        });\n        return { ...state,\n          ...newItems\n        };\n      }\n\n    case REMOVE_ITEM:\n      {\n        const newState = { ...state\n        };\n        delete newState[action.itemId];\n        return newState;\n      }\n\n    case ADD_ITEM:\n    case UPDATE_ITEM:\n      {\n        return { ...state,\n          [action.item.id]: action.item\n        };\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default itemsReducer;","map":{"version":3,"sources":["/Users/mervedoganespaillat/Desktop/RUBY/TWELFTH_WEEK/Project/practice-for-ch-react-pokedex-rails-backend-long-practice-main/pokedex-rails-frontend/src/store/items.js"],"names":["LOAD_ITEMS","REMOVE_ITEM","UPDATE_ITEM","ADD_ITEM","load","items","pokemonId","type","update","item","add","remove","itemId","getItems","id","dispatch","response","fetch","ok","json","createItem","data","method","headers","body","JSON","stringify","updateItem","deleteItem","initialState","itemsReducer","state","action","newItems","forEach","newState"],"mappings":"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","sourcesContent":["export const LOAD_ITEMS = \"items/LOAD_ITEMS\";\nexport const REMOVE_ITEM = \"items/REMOVE_ITEM\";\nexport const UPDATE_ITEM = \"items/UPDATE_ITEM\";\nexport const ADD_ITEM = \"items/ADD_ITEM\";\n\nconst load = (items, pokemonId) => ({\n  type: LOAD_ITEMS,\n  items,\n  pokemonId,\n});\n\nconst update = (item) => ({\n  type: UPDATE_ITEM,\n  item,\n});\n\nconst add = (item) => ({\n  type: ADD_ITEM,\n  item,\n});\n\nconst remove = (itemId, pokemonId) => ({\n  type: REMOVE_ITEM,\n  itemId,\n  pokemonId,\n});\n\nexport const getItems = (id) => async (dispatch) => {\n  const response = await fetch(`/api/pokemon/${id}/items`);\n\n  if (response.ok) {\n    const items = await response.json();\n    dispatch(load(items, id));\n  }\n};\n\nexport const createItem = (data, pokemonId) => async dispatch => {\n  const response = await fetch(`/api/pokemon/${pokemonId}/items`, {\n    method: 'post',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(data),\n  });\n\n  if (response.ok) {\n    const item = await response.json();\n    dispatch(add(item));\n    return item;\n  }\n};\n\nexport const updateItem = data => async dispatch => {\n  const response = await fetch(`/api/items/${data.id}`, {\n    method: 'put',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(data),\n  });\n\n  if (response.ok) {\n    const item = await response.json();\n    dispatch(update(item));\n    return item;\n  }\n};\n\nexport const deleteItem = itemId => async dispatch => {\n  const response = await fetch(`/api/items/${itemId}`, {\n    method: 'delete',\n  });\n\n  if (response.ok) {\n    const item = await response.json();\n    dispatch(remove(item.id, item.pokemonId));\n  }\n};\n\nconst initialState = {};\n\nconst itemsReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case LOAD_ITEMS: {\n      const newItems = {};\n      action.items.forEach(item => {\n        newItems[item.id] = item;\n      })\n      return {\n        ...state,\n        ...newItems\n      }\n    }\n    case REMOVE_ITEM: {\n      const newState = { ...state };\n      delete newState[action.itemId];\n      return newState;\n    }\n    case ADD_ITEM:\n    case UPDATE_ITEM: {\n      return {\n        ...state,\n        [action.item.id]: action.item,\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nexport default itemsReducer;\n"]},"metadata":{},"sourceType":"module"}